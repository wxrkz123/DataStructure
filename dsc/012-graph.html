<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾æ•°æ®ç»“æ„äº¤äº’å¼æ•™å­¦å¹³å° - ä¸“ä¸šç‰ˆ v3.0</title>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <style>
        /* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
         * ğŸ¨ å…¨å±€è®¾è®¡ç³»ç»Ÿ - ä¼˜åŒ–ç‰ˆ (Global Design System - Optimized)
         * â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */

        :root {
            /* è‰²å½©ç³»ç»Ÿ - Material Design 3.0 */
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --primary-light: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;

            /* èƒŒæ™¯æ¸å˜ - ä¼˜åŒ–å¯¹æ¯”åº¦ */
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-gradient: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);

            /* ç»ç’ƒæ€æ•ˆæœ - å¢å¼ºå¯è¯»æ€§ */
            --glass-bg: rgba(255, 255, 255, 0.92);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.25);
            --glass-blur: blur(8px);

            /* åŠ¨ç”»æ—¶åº - ä¼˜åŒ–æ€§èƒ½ */
            --animation-fast: 150ms;
            --animation-normal: 250ms;
            --animation-slow: 400ms;
            --easing: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* æ»šåŠ¨æ¡ä¼˜åŒ– */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--primary-light) rgba(255, 255, 255, 0.1);
        }

        *::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        *::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        *::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 3px;
        }

        *::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        body {
            background: var(--bg-gradient);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ç»ç’ƒæ€å¡ç‰‡ - ä¼˜åŒ– */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transition: all var(--animation-normal) var(--easing);
        }

        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.35);
        }

        /* æŒ‰é’®ç³»ç»Ÿ - ä¼˜åŒ– */
        .btn {
            @apply px-4 py-2.5 font-medium rounded-lg shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95;
        }

        .btn-primary {
            @apply btn bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-400;
        }

        .btn-success {
            @apply btn bg-green-600 text-white hover:bg-green-700 focus:ring-green-400;
        }

        .btn-danger {
            @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-400;
        }

        .btn-warning {
            @apply btn bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-400;
        }

        /* å›¾è¡¨å®¹å™¨ - å…³é”®ä¼˜åŒ– */
        .chart-container {
            width: 100%;
            height: 100%;
            position: relative;
            min-height: 500px;
        }

        .chart-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        /* å“åº”å¼é«˜åº¦è®¾ç½® */
        @media (max-width: 768px) {
            .chart-container {
                min-height: 400px;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .chart-container {
                min-height: 450px;
            }
        }

        @media (min-width: 1025px) {
            .chart-container {
                min-height: 550px;
            }
        }

        /* æ ‡ç­¾æ ·å¼ */
        .tag {
            @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
        }

        .tag-blue {
            @apply tag bg-blue-100 text-blue-800;
        }

        .tag-green {
            @apply tag bg-green-100 text-green-800;
        }

        .tag-yellow {
            @apply tag bg-yellow-100 text-yellow-800;
        }

        /* åŠ è½½åŠ¨ç”» - ä¼˜åŒ– */
        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* è„‰å†²åŠ¨ç”» */
        @keyframes pulse-soft {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.03);
                opacity: 0.9;
            }
        }

        .pulse-soft {
            animation: pulse-soft 2s ease-in-out infinite;
        }

        /* ç®—æ³•æ­¥éª¤é«˜äº® - ä¼˜åŒ– */
        .algorithm-step {
            @apply p-3 mb-2 rounded-lg transition-all duration-300 border-l-4 border-transparent;
        }

        .algorithm-step.active {
            @apply bg-blue-50 border-blue-500 shadow-md transform scale-105;
        }

        .algorithm-step.completed {
            @apply bg-green-50 opacity-80 border-green-400;
        }

        /* é€šçŸ¥æ ·å¼ - ä¼˜åŒ– */
        .notification {
            @apply fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg animate__animated animate__fadeInRight min-w-[300px] max-w-[400px];
        }

        .notification.success {
            @apply bg-green-500 text-white;
        }

        .notification.error {
            @apply bg-red-500 text-white;
        }

        .notification.info {
            @apply bg-blue-500 text-white;
        }

        .notification.warning {
            @apply bg-yellow-500 text-white;
        }

        /* æ·±è‰²æ¨¡å¼æ”¯æŒ */
        @media (prefers-color-scheme: dark) {
            :root {
                --glass-bg: rgba(30, 30, 30, 0.9);
                --glass-border: rgba(255, 255, 255, 0.15);
                --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            }

            body {
                color: #e2e8f0;
            }
        }

        /* é˜²æ­¢å†…å®¹æº¢å‡º */
        .overflow-container {
            overflow: hidden;
            position: relative;
        }

        /* å“åº”å¼ç½‘æ ¼ - ä¼˜åŒ– */
        .responsive-grid {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        }

        @media (max-width: 640px) {
            .responsive-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body class="text-slate-800">

    <div id="app" class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">

        <!-- ========== é€šçŸ¥ç³»ç»Ÿ ========== -->
        <transition name="fade">
            <div v-if="notification.show" :class="['notification', notification.type]">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <i :class="['fas', notification.icon, 'mr-3']"></i>
                        <span>{{ notification.message }}</span>
                    </div>
                    <button @click="notification.show = false" class="ml-4 text-white/80 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </transition>

        <!-- ========== é¡µé¢å¤´éƒ¨ ========== -->
        <header class="text-center mb-12 animate__animated animate__fadeInDown">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-4">
                <i class="fas fa-project-diagram mr-4"></i>
                å›¾æ•°æ®ç»“æ„äº¤äº’å¼æ•™å­¦æ¼”ç¤º
            </h1>
        </header>

        <!-- ========== å¯¼èˆªæ ‡ç­¾ ========== -->
        <nav class="glass-card p-2 mb-8 animate__animated animate__fadeInUp">
            <div class="flex flex-wrap justify-center gap-2">
                <button v-for="tab in navigationTabs" :key="tab.id" @click="switchTab(tab.id)"
                    :class="['px-4 py-2 rounded-lg font-medium transition-all duration-200',
                            activeTab === tab.id ? 'bg-blue-600 text-white shadow-lg' : 'text-slate-700 hover:bg-slate-100']">
                    <i :class="[tab.icon, 'mr-2']"></i>{{ tab.name }}
                </button>
            </div>
        </nav>

        <!-- ========== å†…å®¹åŒºåŸŸ ========== -->
        <div class="space-y-12">

            <!-- æ¦‚å¿µä»‹ç» -->
            <section v-show="activeTab === 'concepts'" class="animate__animated animate__fadeIn">
                <h2 class="text-3xl font-bold text-white mb-8 text-center">
                    <i class="fas fa-book-open mr-3"></i>æ ¸å¿ƒæ¦‚å¿µä¸å®é™…åº”ç”¨
                </h2>

                <!-- å®é™…åº”ç”¨æ¡ˆä¾‹ -->
                <div class="responsive-grid mb-12">
                    <div v-for="(example, index) in realWorldExamples" :key="index"
                        class="glass-card p-6 animate__animated animate__fadeInUp overflow-container"
                        :style="{animationDelay: index * 100 + 'ms'}">
                        <div class="flex items-center mb-4">
                            <div
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mr-4 shadow-lg">
                                <i :class="[example.icon, 'text-white text-xl']"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">{{ example.title }}</h3>
                                <p class="text-sm text-slate-600">{{ example.category }}</p>
                            </div>
                        </div>
                        <p class="text-slate-700 mb-4">{{ example.desc }}</p>
                        <div class="chart-container" style="height: 350px;">
                            <div class="chart-wrapper" :ref="el => { if (el) exampleChartRefs[index] = el }"></div>
                        </div>
                        <div class="mt-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg">
                            <strong class="text-blue-700">ğŸ’¡ å…³é”®ç‰¹å¾ï¼š</strong>
                            <span class="text-slate-700">{{ example.keyFeature }}</span>
                        </div>
                    </div>
                </div>

                <!-- æœ¯è¯­è¯¦è§£ -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-card p-8">
                        <h3 class="text-xl font-bold mb-6 text-slate-800">
                            <i class="fas fa-list-check mr-2 text-blue-600"></i>å›¾çš„åˆ†ç±»ä¸æ€§è´¨
                        </h3>
                        <div class="space-y-2">
                            <button v-for="term in terminology" :key="term.id" @click="selectTerm(term.id)"
                                :class="['w-full text-left p-4 rounded-lg transition-all duration-200',
                                        activeTermId === term.id ? 'bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-600 shadow-md' : 'hover:bg-slate-50']">
                                <div class="flex items-center justify-between">
                                    <span class="font-medium">{{ term.name }}</span>
                                    <i class="fas fa-chevron-right text-blue-600 transition-transform duration-200"
                                        :class="{'rotate-90': activeTermId === term.id}"></i>
                                </div>
                            </button>
                        </div>
                        <transition name="fade">
                            <div v-if="activeTerm"
                                class="mt-6 p-4 bg-gradient-to-br from-slate-50 to-blue-50 rounded-lg">
                                <h4 class="font-bold text-blue-700 mb-2">{{ activeTerm.name }}</h4>
                                <p class="text-slate-700 mb-3" v-html="activeTerm.definition"></p>
                                <div class="flex items-start">
                                    <i class="fas fa-lightbulb text-yellow-500 mr-2 mt-1"></i>
                                    <span class="text-sm">{{ activeTerm.takeaway }}</span>
                                </div>
                            </div>
                        </transition>
                    </div>
                    <div class="glass-card p-4 overflow-container">
                        <div class="chart-container" style="height: 500px;">
                            <div class="chart-wrapper" ref="terminologyChartRef"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- äº¤äº’å¼æ²™ç®± -->
            <section v-show="activeTab === 'sandbox'" class="animate__animated animate__fadeIn">
                <h2 class="text-3xl font-bold text-white mb-8 text-center">
                    <i class="fas fa-flask mr-3"></i>è‡ªåŠ¨åŒ–å›¾æ¼”ç¤ºæ²™ç®±
                </h2>

                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <!-- æ§åˆ¶é¢æ¿ -->
                    <div class="lg:col-span-1 space-y-4">
                        <!-- é¢„è®¾åœºæ™¯é€‰æ‹© -->
                        <div class="glass-card p-6">
                            <h3 class="font-bold mb-4 text-slate-800">
                                <i class="fas fa-magic mr-2 text-purple-600"></i>é¢„è®¾åœºæ™¯
                            </h3>
                            <div class="space-y-2">
                                <button v-for="preset in presetScenarios" :key="preset.id"
                                    @click="loadPresetScenario(preset.id)" class="w-full btn-primary text-sm">
                                    <i :class="[preset.icon, 'mr-2']"></i>{{ preset.name }}
                                </button>
                            </div>
                        </div>

                        <!-- è‡ªåŠ¨æ¼”ç¤ºæ§åˆ¶ -->
                        <div class="glass-card p-6">
                            <h3 class="font-bold mb-4 text-slate-800">
                                <i class="fas fa-play-circle mr-2 text-green-600"></i>è‡ªåŠ¨æ¼”ç¤º
                            </h3>
                            <div class="space-y-3">
                                <button @click="startAutoDemo" :disabled="isAutoPlaying" class="w-full btn-success">
                                    <i class="fas fa-play mr-2"></i>å¼€å§‹æ¼”ç¤º
                                </button>
                                <button @click="pauseAutoDemo" :disabled="!isAutoPlaying" class="w-full btn-warning">
                                    <i class="fas fa-pause mr-2"></i>æš‚åœæ¼”ç¤º
                                </button>
                                <button @click="resetDemo" class="w-full btn-danger">
                                    <i class="fas fa-redo mr-2"></i>é‡ç½®åœºæ™¯
                                </button>
                                <div>
                                    <label class="text-sm font-medium text-slate-700">æ¼”ç¤ºé€Ÿåº¦</label>
                                    <input type="range" v-model="demoSpeed" min="1" max="10" class="w-full mt-1">
                                    <div class="flex justify-between text-xs text-slate-500">
                                        <span>æ…¢</span>
                                        <span>{{ demoSpeed }}</span>
                                        <span>å¿«</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å›¾å±æ€§æ˜¾ç¤º -->
                        <div class="glass-card p-6">
                            <h3 class="font-bold mb-4 text-slate-800">
                                <i class="fas fa-info-circle mr-2 text-blue-600"></i>å›¾çš„å®æ—¶å±æ€§
                            </h3>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between p-2 bg-slate-50 rounded">
                                    <span class="text-slate-600">èŠ‚ç‚¹æ•°ï¼š</span>
                                    <span class="font-bold">{{ graphStats.nodeCount }}</span>
                                </div>
                                <div class="flex justify-between p-2 bg-slate-50 rounded">
                                    <span class="text-slate-600">è¾¹æ•°ï¼š</span>
                                    <span class="font-bold">{{ graphStats.edgeCount }}</span>
                                </div>
                                <div class="flex justify-between p-2 bg-slate-50 rounded">
                                    <span class="text-slate-600">å¹³å‡åº¦ï¼š</span>
                                    <span class="font-bold">{{ graphStats.avgDegree }}</span>
                                </div>
                                <div class="flex justify-between p-2 bg-slate-50 rounded">
                                    <span class="text-slate-600">å›¾å¯†åº¦ï¼š</span>
                                    <span class="font-bold">{{ graphStats.density }}%</span>
                                </div>
                                <div class="flex justify-between p-2 bg-slate-50 rounded">
                                    <span class="text-slate-600">æ˜¯å¦è¿é€šï¼š</span>
                                    <span class="font-bold">
                                        <i
                                            :class="graphStats.isConnected ? 'fas fa-check text-green-600' : 'fas fa-times text-red-600'"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å›¾å¯è§†åŒ–åŒºåŸŸ -->
                    <div class="lg:col-span-3 glass-card p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-lg text-slate-800">
                                <i class="fas fa-chart-network mr-2 text-indigo-600"></i>å›¾å¯è§†åŒ–
                            </h3>
                            <div class="flex gap-2">
                                <button @click="centerGraph" class="btn-primary text-sm">
                                    <i class="fas fa-compress"></i> å±…ä¸­
                                </button>
                                <button @click="toggleLayout" class="btn-primary text-sm">
                                    <i class="fas fa-random"></i> åˆ‡æ¢å¸ƒå±€
                                </button>
                            </div>
                        </div>
                        <div class="chart-container" style="height: 600px;">
                            <div class="chart-wrapper" ref="sandboxChartRef"></div>
                        </div>

                        <!-- å½“å‰æ¼”ç¤ºè¯´æ˜ -->
                        <transition name="fade">
                            <div v-if="currentDemoStep"
                                class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg">
                                <h4 class="font-bold text-blue-700 mb-2">
                                    <i class="fas fa-info-circle mr-2"></i>å½“å‰æ­¥éª¤
                                </h4>
                                <p class="text-slate-700">{{ currentDemoStep }}</p>
                            </div>
                        </transition>
                    </div>
                </div>
            </section>
            
        </div>

        <!-- å¿«æ·é”®æç¤º -->
        <div class="fixed bottom-8 right-8 glass-card p-3 text-xs text-slate-600">
            <div><kbd>Space</kbd> æ’­æ”¾/æš‚åœ</div>
            <div><kbd>R</kbd> é‡ç½®</div>
            <div><kbd>1-2</kbd> åˆ‡æ¢æ ‡ç­¾</div>
        </div>
    </div>

    <script>
        const { createApp, ref, reactive, computed, onMounted, onUnmounted, watch, nextTick } = Vue;

        createApp({
            setup() {
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ“Š æ ¸å¿ƒçŠ¶æ€ç®¡ç† (Core State Management)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                // å¯¼èˆªçŠ¶æ€
                const activeTab = ref('concepts');
                const navigationTabs = [
                    { id: 'concepts', name: 'æ ¸å¿ƒæ¦‚å¿µ', icon: 'fas fa-book' },
                    { id: 'sandbox', name: 'æ¼”ç¤ºæ²™ç®±', icon: 'fas fa-flask' },
                ];

                // é€šçŸ¥ç³»ç»Ÿ
                const notification = reactive({
                    show: false,
                    type: 'info',
                    message: '',
                    icon: 'fa-info-circle'
                });

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ“š æ¦‚å¿µå±•ç¤ºæ•°æ® (Concept Demonstration Data)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                const realWorldExamples = [
                    {
                        title: 'ç¤¾äº¤ç½‘ç»œåˆ†æ',
                        category: 'æ— å‘å›¾åº”ç”¨',
                        icon: 'fa-users',
                        desc: 'Facebookã€LinkedInç­‰ç¤¾äº¤å¹³å°çš„å¥½å‹å…³ç³»ç½‘ç»œï¼Œå±•ç¤ºå…­åº¦åˆ†éš”ç†è®ºçš„å®é™…åº”ç”¨ã€‚',
                        keyFeature: 'å°ä¸–ç•Œç°è±¡ï¼šå¹³å‡è·¯å¾„é•¿åº¦ä¸º6ï¼Œèšç±»ç³»æ•°é«˜è¾¾0.4',
                        graphData: {
                            nodes: [
                                { id: 'User1', name: 'å¼ ä¸‰', value: 25, category: 0, symbolSize: 50 },
                                { id: 'User2', name: 'æå››', value: 20, category: 0, symbolSize: 45 },
                                { id: 'User3', name: 'ç‹äº”', value: 22, category: 1, symbolSize: 47 },
                                { id: 'User4', name: 'èµµå…­', value: 18, category: 1, symbolSize: 42 },
                                { id: 'User5', name: 'é’±ä¸ƒ', value: 24, category: 2, symbolSize: 48 },
                                { id: 'User6', name: 'å­™å…«', value: 15, category: 2, symbolSize: 40 }
                            ],
                            links: [
                                { source: 'User1', target: 'User2', value: 10 },
                                { source: 'User1', target: 'User3', value: 8 },
                                { source: 'User2', target: 'User3', value: 12 },
                                { source: 'User2', target: 'User4', value: 6 },
                                { source: 'User3', target: 'User5', value: 9 },
                                { source: 'User4', target: 'User5', value: 7 },
                                { source: 'User4', target: 'User6', value: 11 },
                                { source: 'User5', target: 'User6', value: 5 }
                            ]
                        }
                    },
                    {
                        title: 'åŸå¸‚äº¤é€šç½‘ç»œ',
                        category: 'å¸¦æƒå›¾åº”ç”¨',
                        icon: 'fa-route',
                        desc: 'åŸºäºå®é™…è·ç¦»å’Œæ—¶é—´æˆæœ¬çš„åŸå¸‚é—´äº¤é€šç½‘ç»œä¼˜åŒ–ï¼Œç”¨äºç‰©æµå’Œå‡ºè¡Œè§„åˆ’ã€‚',
                        keyFeature: 'Dijkstraç®—æ³•å¯æ‰¾åˆ°æœ€ä¼˜è·¯å¾„ï¼Œå¹³å‡èŠ‚çœ30%æ—¶é—´',
                        graphData: {
                            nodes: [
                                { id: 'BJ', name: 'åŒ—äº¬', symbolSize: 60, category: 0, value: 2154 },
                                { id: 'SH', name: 'ä¸Šæµ·', symbolSize: 55, category: 1, value: 2424 },
                                { id: 'GZ', name: 'å¹¿å·', symbolSize: 50, category: 1, value: 1392 },
                                { id: 'SZ', name: 'æ·±åœ³', symbolSize: 45, category: 2, value: 1303 },
                                { id: 'CD', name: 'æˆéƒ½', symbolSize: 48, category: 2, value: 1633 },
                                { id: 'WH', name: 'æ­¦æ±‰', symbolSize: 46, category: 3, value: 1121 }
                            ],
                            links: [
                                { source: 'BJ', target: 'SH', value: 1200, lineStyle: { width: 3 } },
                                { source: 'BJ', target: 'WH', value: 1100, lineStyle: { width: 3 } },
                                { source: 'SH', target: 'GZ', value: 1400, lineStyle: { width: 2 } },
                                { source: 'GZ', target: 'SZ', value: 130, lineStyle: { width: 4 } },
                                { source: 'WH', target: 'CD', value: 900, lineStyle: { width: 2 } },
                                { source: 'WH', target: 'GZ', value: 1000, lineStyle: { width: 2 } }
                            ]
                        }
                    },
                    {
                        title: 'ç½‘é¡µæ’åç³»ç»Ÿ',
                        category: 'æœ‰å‘å›¾åº”ç”¨',
                        icon: 'fa-link',
                        desc: 'Google PageRankç®—æ³•çš„æ ¸å¿ƒåŸç†å±•ç¤ºï¼ŒåŸºäºé“¾æ¥ç»“æ„è¯„ä¼°ç½‘é¡µé‡è¦æ€§ã€‚',
                        keyFeature: 'PageRankå€¼é€šè¿‡è¿­ä»£è®¡ç®—æ”¶æ•›ï¼Œå½±å“70%æœç´¢ç»“æœæ’åº',
                        graphData: {
                            nodes: [
                                { id: 'Page1', name: 'ä¸»é¡µ', value: 0.35, symbolSize: 55, category: 0 },
                                { id: 'Page2', name: 'äº§å“', value: 0.20, symbolSize: 45, category: 1 },
                                { id: 'Page3', name: 'åšå®¢', value: 0.25, symbolSize: 48, category: 1 },
                                { id: 'Page4', name: 'å…³äº', value: 0.10, symbolSize: 40, category: 2 },
                                { id: 'Page5', name: 'è”ç³»', value: 0.10, symbolSize: 40, category: 2 }
                            ],
                            links: [
                                { source: 'Page1', target: 'Page2', value: 5 },
                                { source: 'Page1', target: 'Page3', value: 4 },
                                { source: 'Page2', target: 'Page3', value: 3 },
                                { source: 'Page2', target: 'Page4', value: 2 },
                                { source: 'Page3', target: 'Page1', value: 6 },
                                { source: 'Page3', target: 'Page5', value: 2 },
                                { source: 'Page4', target: 'Page5', value: 1 },
                                { source: 'Page5', target: 'Page1', value: 3 }
                            ],
                            directed: true
                        }
                    },
                    {
                        title: 'é¡¹ç›®ä¾èµ–ç®¡ç†',
                        category: 'DAGåº”ç”¨',
                        icon: 'fa-diagram-project',
                        desc: 'Maven/NPMç­‰åŒ…ç®¡ç†å™¨çš„ä¾èµ–è§£æï¼Œé€šè¿‡æ‹“æ‰‘æ’åºç¡®å®šæ„å»ºé¡ºåºã€‚',
                        keyFeature: 'æ‹“æ‰‘æ’åºå¯æ£€æµ‹å¾ªç¯ä¾èµ–ï¼Œä¼˜åŒ–æ„å»ºæ—¶é—´è¾¾40%',
                        graphData: {
                            nodes: [
                                { id: 'Core', name: 'æ ¸å¿ƒåº“', symbolSize: 50, category: 0, x: 200, y: 50 },
                                { id: 'Utils', name: 'å·¥å…·åº“', symbolSize: 45, category: 0, x: 100, y: 150 },
                                { id: 'UI', name: 'UIç»„ä»¶', symbolSize: 48, category: 1, x: 100, y: 250 },
                                { id: 'API', name: 'APIå±‚', symbolSize: 46, category: 1, x: 300, y: 150 },
                                { id: 'App', name: 'åº”ç”¨å±‚', symbolSize: 52, category: 2, x: 200, y: 350 }
                            ],
                            links: [
                                { source: 'Core', target: 'Utils', value: 1 },
                                { source: 'Core', target: 'API', value: 1 },
                                { source: 'Utils', target: 'UI', value: 1 },
                                { source: 'API', target: 'App', value: 1 },
                                { source: 'UI', target: 'App', value: 1 }
                            ],
                            directed: true
                        }
                    }
                ];

                const terminology = [
                    {
                        id: 'undirected',
                        name: 'æ— å‘å›¾ (Undirected Graph)',
                        definition: 'è¾¹æ²¡æœ‰æ–¹å‘çš„å›¾ç»“æ„ã€‚é€‚ç”¨äºè¡¨ç¤ºåŒå‘å¯¹ç­‰å…³ç³»ï¼Œå¦‚æœ‹å‹å…³ç³»ã€é“è·¯ç½‘ç»œç­‰ã€‚',
                        takeaway: 'å…³é”®åº”ç”¨ï¼šç¤¾äº¤ç½‘ç»œã€åä½œç½‘ç»œã€ç‰©ç†ç½‘ç»œå»ºæ¨¡',
                        graphData: {
                            nodes: [
                                { id: 'A', name: 'A', symbolSize: 45 },
                                { id: 'B', name: 'B', symbolSize: 45 },
                                { id: 'C', name: 'C', symbolSize: 45 },
                                { id: 'D', name: 'D', symbolSize: 45 },
                                { id: 'E', name: 'E', symbolSize: 45 }
                            ],
                            links: [
                                { source: 'A', target: 'B' },
                                { source: 'B', target: 'C' },
                                { source: 'C', target: 'D' },
                                { source: 'D', target: 'E' },
                                { source: 'E', target: 'A' },
                                { source: 'A', target: 'C' }
                            ]
                        }
                    },
                    {
                        id: 'directed',
                        name: 'æœ‰å‘å›¾ (Directed Graph)',
                        definition: 'è¾¹å…·æœ‰æ–¹å‘çš„å›¾ç»“æ„ã€‚ç”¨äºè¡¨ç¤ºå•å‘å…³ç³»ï¼Œå¦‚ç½‘é¡µé“¾æ¥ã€å…³æ³¨å…³ç³»ã€ä¾èµ–å…³ç³»ç­‰ã€‚',
                        takeaway: 'å…³é”®åº”ç”¨ï¼šç½‘é¡µæ’åã€ä»»åŠ¡è°ƒåº¦ã€æ•°æ®æµåˆ†æ',
                        graphData: {
                            nodes: [
                                { id: 'A', name: 'A', symbolSize: 50 },
                                { id: 'B', name: 'B', symbolSize: 45 },
                                { id: 'C', name: 'C', symbolSize: 45 },
                                { id: 'D', name: 'D', symbolSize: 45 },
                                { id: 'E', name: 'E', symbolSize: 45 }
                            ],
                            links: [
                                { source: 'A', target: 'B' },
                                { source: 'B', target: 'C' },
                                { source: 'C', target: 'D' },
                                { source: 'D', target: 'E' },
                                { source: 'E', target: 'A' },
                                { source: 'B', target: 'D' }
                            ],
                            directed: true
                        }
                    },
                    {
                        id: 'weighted',
                        name: 'å¸¦æƒå›¾ (Weighted Graph)',
                        definition: 'è¾¹é™„å¸¦æ•°å€¼æƒé‡çš„å›¾ã€‚æƒé‡å¯è¡¨ç¤ºè·ç¦»ã€æˆæœ¬ã€å®¹é‡ã€æ¦‚ç‡ç­‰åº¦é‡ã€‚',
                        takeaway: 'å…³é”®åº”ç”¨ï¼šæœ€çŸ­è·¯å¾„ã€æœ€å°ç”Ÿæˆæ ‘ã€ç½‘ç»œæµä¼˜åŒ–',
                        graphData: {
                            nodes: [
                                { id: 'A', name: 'A', symbolSize: 50 },
                                { id: 'B', name: 'B', symbolSize: 45 },
                                { id: 'C', name: 'C', symbolSize: 45 },
                                { id: 'D', name: 'D', symbolSize: 45 },
                                { id: 'E', name: 'E', symbolSize: 45 }
                            ],
                            links: [
                                { source: 'A', target: 'B', value: 5 },
                                { source: 'B', target: 'C', value: 3 },
                                { source: 'C', target: 'D', value: 7 },
                                { source: 'D', target: 'E', value: 2 },
                                { source: 'E', target: 'A', value: 8 },
                                { source: 'A', target: 'D', value: 4 }
                            ]
                        }
                    },
                    {
                        id: 'complete',
                        name: 'å®Œå…¨å›¾ (Complete Graph)',
                        definition: 'ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹é—´éƒ½æœ‰è¾¹ç›¸è¿çš„å›¾ã€‚nä¸ªèŠ‚ç‚¹çš„å®Œå…¨å›¾æœ‰n(n-1)/2æ¡è¾¹ã€‚',
                        takeaway: 'å…³é”®æ€§è´¨ï¼šæœ€å¤§è¿é€šæ€§ã€ç”¨äºç†è®ºåˆ†æå’Œç®—æ³•ä¸‹ç•Œ',
                        graphData: {
                            nodes: [
                                { id: 'A', name: 'A', symbolSize: 50 },
                                { id: 'B', name: 'B', symbolSize: 50 },
                                { id: 'C', name: 'C', symbolSize: 50 },
                                { id: 'D', name: 'D', symbolSize: 50 }
                            ],
                            links: [
                                { source: 'A', target: 'B' },
                                { source: 'A', target: 'C' },
                                { source: 'A', target: 'D' },
                                { source: 'B', target: 'C' },
                                { source: 'B', target: 'D' },
                                { source: 'C', target: 'D' }
                            ]
                        }
                    }
                ];

                const activeTermId = ref('undirected');
                const activeTerm = computed(() => terminology.find(t => t.id === activeTermId.value));

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ”§ æ²™ç®±åŠŸèƒ½ - å®Œå…¨è‡ªåŠ¨åŒ– (Sandbox - Fully Automated)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                const presetScenarios = [
                    { id: 'social', name: 'ç¤¾äº¤ç½‘ç»œ', icon: 'fas fa-users' },
                    { id: 'transport', name: 'äº¤é€šç½‘ç»œ', icon: 'fas fa-route' },
                    { id: 'binary', name: 'äºŒå‰æ ‘', icon: 'fas fa-sitemap' },
                    { id: 'complete', name: 'å®Œå…¨å›¾', icon: 'fas fa-circle-nodes' },
                    { id: 'bipartite', name: 'äºŒéƒ¨å›¾', icon: 'fas fa-project-diagram' },
                    { id: 'cycle', name: 'ç¯å½¢å›¾', icon: 'fas fa-circle-notch' }
                ];

                const currentGraph = reactive({
                    nodes: [],
                    links: [],
                    layout: 'force'
                });

                const isAutoPlaying = ref(false);
                const demoSpeed = ref(5);
                const currentDemoStep = ref('');

                const graphStats = computed(() => {
                    const nodeCount = currentGraph.nodes.length;
                    const edgeCount = currentGraph.links.length;
                    const maxEdges = nodeCount * (nodeCount - 1) / 2;

                    return {
                        nodeCount,
                        edgeCount,
                        avgDegree: nodeCount > 0 ? (2 * edgeCount / nodeCount).toFixed(2) : 0,
                        density: maxEdges > 0 ? Math.round((edgeCount / maxEdges) * 100) : 0,
                        isConnected: nodeCount > 0 // ç®€åŒ–åˆ¤æ–­
                    };
                });
                
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ“Š ECharts å®ä¾‹ç®¡ç† - ä¼˜åŒ–ç‰ˆ (ECharts Management - Optimized)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                const exampleChartRefs = ref([]);
                const terminologyChartRef = ref(null);
                const sandboxChartRef = ref(null);

                let chartInstances = {
                    examples: [],
                    terminology: null,
                    sandbox: null,
                };

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ® æ ¸å¿ƒæ–¹æ³• - é‡æ„ç‰ˆ (Core Methods - Refactored)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                // é€šçŸ¥æ–¹æ³•
                const showNotification = (message, type = 'info') => {
                    const icons = {
                        success: 'fa-check-circle',
                        error: 'fa-exclamation-circle',
                        warning: 'fa-exclamation-triangle',
                        info: 'fa-info-circle'
                    };

                    notification.message = message;
                    notification.type = type;
                    notification.icon = icons[type];
                    notification.show = true;

                    setTimeout(() => {
                        notification.show = false;
                    }, 3000);
                };

                // åˆ‡æ¢æ ‡ç­¾
                const switchTab = (tabId) => {
                    activeTab.value = tabId;
                    showNotification(`å·²åˆ‡æ¢åˆ°${navigationTabs.find(t => t.id === tabId).name}`, 'info');

                    // ç¡®ä¿å›¾è¡¨æ­£ç¡®æ¸²æŸ“
                    nextTick(() => {
                        // å»¶è¿Ÿåˆå§‹åŒ–æˆ–é‡æ–°åˆå§‹åŒ–å›¾è¡¨
                        setTimeout(() => {
                            if (tabId === 'sandbox') {
                                if (!chartInstances.sandbox && sandboxChartRef.value) {
                                    try {
                                        chartInstances.sandbox = echarts.init(sandboxChartRef.value);
                                        console.log('âœ… æ²™ç®±å›¾è¡¨å»¶è¿Ÿåˆå§‹åŒ–æˆåŠŸ');
                                    } catch (error) {
                                        console.error('âŒ æ²™ç®±å›¾è¡¨å»¶è¿Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                                    }
                                }
                                if (currentGraph.nodes.length === 0) {
                                    loadPresetScenario('social');
                                } else {
                                    updateSandboxChart();
                                }
                            }

                            // è°ƒæ•´æ‰€æœ‰å›¾è¡¨å¤§å°
                            Object.values(chartInstances).forEach(instance => {
                                if (instance && typeof instance.resize === 'function') {
                                    instance.resize();
                                } else if (Array.isArray(instance)) {
                                    instance.forEach(chart => chart && chart.resize());
                                }
                            });
                        }, 200);
                    });
                };

                // é€‰æ‹©æœ¯è¯­
                const selectTerm = (termId) => {
                    activeTermId.value = termId;
                    updateTerminologyChart();
                };

                // åŠ è½½é¢„è®¾åœºæ™¯
                const loadPresetScenario = (scenarioId) => {
                    const scenarios = {
                        social: {
                            nodes: [
                                { id: 'Person1', name: 'å¼ ä¸‰', symbolSize: 55, category: 0 },
                                { id: 'Person2', name: 'æå››', symbolSize: 50, category: 0 },
                                { id: 'Person3', name: 'ç‹äº”', symbolSize: 50, category: 1 },
                                { id: 'Person4', name: 'èµµå…­', symbolSize: 45, category: 1 },
                                { id: 'Person5', name: 'é’±ä¸ƒ', symbolSize: 45, category: 2 },
                                { id: 'Person6', name: 'å­™å…«', symbolSize: 45, category: 2 },
                                { id: 'Person7', name: 'å‘¨ä¹', symbolSize: 40, category: 3 },
                                { id: 'Person8', name: 'å´å', symbolSize: 40, category: 3 }
                            ],
                            links: [
                                { source: 'Person1', target: 'Person2', value: 10 },
                                { source: 'Person1', target: 'Person3', value: 8 },
                                { source: 'Person2', target: 'Person4', value: 6 },
                                { source: 'Person3', target: 'Person4', value: 7 },
                                { source: 'Person3', target: 'Person5', value: 9 },
                                { source: 'Person4', target: 'Person6', value: 5 },
                                { source: 'Person5', target: 'Person7', value: 4 },
                                { source: 'Person6', target: 'Person8', value: 6 },
                                { source: 'Person7', target: 'Person8', value: 3 }
                            ]
                        },
                        transport: {
                            nodes: [
                                { id: 'Station1', name: 'ä¸­å¿ƒç«™', symbolSize: 60, category: 0 },
                                { id: 'Station2', name: 'ä¸œç«™', symbolSize: 50, category: 1 },
                                { id: 'Station3', name: 'è¥¿ç«™', symbolSize: 50, category: 1 },
                                { id: 'Station4', name: 'å—ç«™', symbolSize: 50, category: 1 },
                                { id: 'Station5', name: 'åŒ—ç«™', symbolSize: 50, category: 1 },
                                { id: 'Station6', name: 'æœºåœº', symbolSize: 55, category: 2 }
                            ],
                            links: [
                                { source: 'Station1', target: 'Station2', value: 15 },
                                { source: 'Station1', target: 'Station3', value: 12 },
                                { source: 'Station1', target: 'Station4', value: 10 },
                                { source: 'Station1', target: 'Station5', value: 8 },
                                { source: 'Station2', target: 'Station6', value: 25 },
                                { source: 'Station3', target: 'Station4', value: 18 },
                                { source: 'Station5', target: 'Station6', value: 30 }
                            ]
                        },
                        binary: {
                            nodes: [
                                { id: 'Root', name: 'Root', symbolSize: 55, category: 0 },
                                { id: 'L1', name: 'L1', symbolSize: 50, category: 1 },
                                { id: 'R1', name: 'R1', symbolSize: 50, category: 1 },
                                { id: 'L2', name: 'L2', symbolSize: 45, category: 2 },
                                { id: 'L3', name: 'L3', symbolSize: 45, category: 2 },
                                { id: 'R2', name: 'R2', symbolSize: 45, category: 2 },
                                { id: 'R3', name: 'R3', symbolSize: 45, category: 2 }
                            ],
                            links: [
                                { source: 'Root', target: 'L1', value: 1 },
                                { source: 'Root', target: 'R1', value: 1 },
                                { source: 'L1', target: 'L2', value: 1 },
                                { source: 'L1', target: 'L3', value: 1 },
                                { source: 'R1', target: 'R2', value: 1 },
                                { source: 'R1', target: 'R3', value: 1 }
                            ]
                        },
                        complete: {
                            nodes: [
                                { id: 'N1', name: 'N1', symbolSize: 50, category: 0 },
                                { id: 'N2', name: 'N2', symbolSize: 50, category: 0 },
                                { id: 'N3', name: 'N3', symbolSize: 50, category: 0 },
                                { id: 'N4', name: 'N4', symbolSize: 50, category: 0 },
                                { id: 'N5', name: 'N5', symbolSize: 50, category: 0 }
                            ],
                            links: []
                        },
                        bipartite: {
                            nodes: [
                                { id: 'A1', name: 'A1', symbolSize: 50, category: 0, x: 100 },
                                { id: 'A2', name: 'A2', symbolSize: 50, category: 0, x: 100 },
                                { id: 'A3', name: 'A3', symbolSize: 50, category: 0, x: 100 },
                                { id: 'B1', name: 'B1', symbolSize: 50, category: 1, x: 300 },
                                { id: 'B2', name: 'B2', symbolSize: 50, category: 1, x: 300 },
                                { id: 'B3', name: 'B3', symbolSize: 50, category: 1, x: 300 }
                            ],
                            links: [
                                { source: 'A1', target: 'B1', value: 1 },
                                { source: 'A1', target: 'B2', value: 1 },
                                { source: 'A2', target: 'B2', value: 1 },
                                { source: 'A2', target: 'B3', value: 1 },
                                { source: 'A3', target: 'B1', value: 1 },
                                { source: 'A3', target: 'B3', value: 1 }
                            ]
                        },
                        cycle: {
                            nodes: [
                                { id: 'C1', name: 'C1', symbolSize: 50 },
                                { id: 'C2', name: 'C2', symbolSize: 50 },
                                { id: 'C3', name: 'C3', symbolSize: 50 },
                                { id: 'C4', name: 'C4', symbolSize: 50 },
                                { id: 'C5', name: 'C5', symbolSize: 50 },
                                { id: 'C6', name: 'C6', symbolSize: 50 }
                            ],
                            links: [
                                { source: 'C1', target: 'C2', value: 1 },
                                { source: 'C2', target: 'C3', value: 1 },
                                { source: 'C3', target: 'C4', value: 1 },
                                { source: 'C4', target: 'C5', value: 1 },
                                { source: 'C5', target: 'C6', value: 1 },
                                { source: 'C6', target: 'C1', value: 1 }
                            ]
                        }
                    };

                    // ç”Ÿæˆå®Œå…¨å›¾çš„è¾¹
                    if (scenarioId === 'complete') {
                        const nodes = scenarios.complete.nodes;
                        for (let i = 0; i < nodes.length; i++) {
                            for (let j = i + 1; j < nodes.length; j++) {
                                scenarios.complete.links.push({
                                    source: nodes[i].id,
                                    target: nodes[j].id,
                                    value: Math.floor(Math.random() * 10) + 1
                                });
                            }
                        }
                    }

                    const scenario = scenarios[scenarioId];
                    if (scenario) {
                        currentGraph.nodes = scenario.nodes;
                        currentGraph.links = scenario.links;
                        updateSandboxChart();
                        showNotification(`å·²åŠ è½½${presetScenarios.find(s => s.id === scenarioId).name}åœºæ™¯`, 'success');
                    }
                };

                // å¼€å§‹è‡ªåŠ¨æ¼”ç¤º
                const startAutoDemo = async () => {
                    if (currentGraph.nodes.length === 0) {
                        loadPresetScenario('social');
                    }

                    isAutoPlaying.value = true;
                    const steps = [
                        'åˆå§‹åŒ–å›¾ç»“æ„ï¼Œè®¾ç½®èŠ‚ç‚¹ä½ç½®',
                        'åº”ç”¨åŠ›å¯¼å‘å¸ƒå±€ç®—æ³•',
                        'è®¡ç®—èŠ‚ç‚¹é—´çš„æ–¥åŠ›å’Œå¼•åŠ›',
                        'è¿­ä»£ä¼˜åŒ–èŠ‚ç‚¹ä½ç½®',
                        'é«˜äº®æ˜¾ç¤ºå…³é”®è·¯å¾„',
                        'å±•ç¤ºæœ€ç»ˆä¼˜åŒ–ç»“æœ'
                    ];

                    for (let i = 0; i < steps.length; i++) {
                        if (!isAutoPlaying.value) break;

                        currentDemoStep.value = steps[i];

                        // åŠ¨æ€æ›´æ–°å›¾çš„è§†è§‰æ•ˆæœ
                        if (chartInstances.sandbox) {
                            const nodes = currentGraph.nodes.map((node, idx) => ({
                                ...node,
                                symbolSize: i === idx ? 60 : 45,
                                itemStyle: {
                                    color: i === idx ? '#ef4444' : '#2563eb'
                                }
                            }));

                            updateSandboxChart(nodes);
                        }

                        await new Promise(resolve => setTimeout(resolve, 1000 / demoSpeed.value * 200));
                    }

                    isAutoPlaying.value = false;
                    currentDemoStep.value = 'æ¼”ç¤ºå®Œæˆ';
                    showNotification('è‡ªåŠ¨æ¼”ç¤ºå®Œæˆ', 'success');
                };

                // æš‚åœè‡ªåŠ¨æ¼”ç¤º
                const pauseAutoDemo = () => {
                    isAutoPlaying.value = false;
                    showNotification('æ¼”ç¤ºå·²æš‚åœ', 'info');
                };

                // é‡ç½®æ¼”ç¤º
                const resetDemo = () => {
                    isAutoPlaying.value = false;
                    currentDemoStep.value = '';
                    currentGraph.nodes = [];
                    currentGraph.links = [];
                    updateSandboxChart();
                    showNotification('åœºæ™¯å·²é‡ç½®', 'info');
                };

                // å±…ä¸­å›¾è¡¨
                const centerGraph = () => {
                    if (chartInstances.sandbox) {
                        chartInstances.sandbox.dispatchAction({
                            type: 'restore'
                        });
                        showNotification('å›¾è¡¨å·²å±…ä¸­', 'info');
                    }
                };

                // åˆ‡æ¢å¸ƒå±€
                const toggleLayout = () => {
                    const layouts = ['force', 'circular', 'none'];
                    const currentIndex = layouts.indexOf(currentGraph.layout);
                    currentGraph.layout = layouts[(currentIndex + 1) % layouts.length];
                    updateSandboxChart();
                    showNotification(`åˆ‡æ¢åˆ°${currentGraph.layout}å¸ƒå±€`, 'info');
                };

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ“Š å›¾è¡¨æ›´æ–°æ–¹æ³• (Chart Update Methods)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                const updateTerminologyChart = () => {
                    if (!chartInstances.terminology || !activeTerm.value) return;

                    const term = activeTerm.value;
                    const option = {
                        tooltip: { trigger: 'item' },
                        animationDurationUpdate: 750,
                        animationEasingUpdate: 'quinticInOut',
                        series: [{
                            type: 'graph',
                            layout: 'force',
                            roam: true,
                            draggable: true,
                            label: {
                                show: true,
                                fontSize: 16,
                                fontWeight: 'bold'
                            },
                            force: {
                                repulsion: 400,
                                gravity: 0.1,
                                edgeLength: 200
                            },
                            symbolSize: 50,
                            data: term.graphData.nodes.map(node => ({
                                ...node,
                                itemStyle: {
                                    color: '#2563eb',
                                    borderColor: '#fff',
                                    borderWidth: 3,
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(37, 99, 235, 0.5)'
                                }
                            })),
                            links: term.graphData.links,
                            edgeSymbol: term.graphData.directed ? ['none', 'arrow'] : ['none', 'none'],
                            edgeSymbolSize: 12,
                            edgeLabel: {
                                show: term.id === 'weighted',
                                formatter: '{c}',
                                fontSize: 14,
                                color: '#1e40af'
                            },
                            lineStyle: {
                                width: 3,
                                curveness: 0.1,
                                color: '#64748b'
                            },
                            emphasis: {
                                focus: 'adjacency',
                                itemStyle: {
                                    borderWidth: 4,
                                    borderColor: '#fbbf24'
                                },
                                lineStyle: {
                                    width: 5,
                                    color: '#2563eb'
                                }
                            }
                        }]
                    };
                    chartInstances.terminology.setOption(option, { notMerge: true });
                };

                const updateSandboxChart = (customNodes = null) => {
                    if (!chartInstances.sandbox) return;

                    const nodes = customNodes || currentGraph.nodes;
                    const option = {
                        tooltip: {
                            trigger: 'item',
                            formatter: (params) => {
                                if (params.dataType === 'node') {
                                    return `èŠ‚ç‚¹: ${params.name}`;
                                }
                                if (params.dataType === 'edge') {
                                    return `è¾¹: ${params.data.source} â†’ ${params.data.target}<br>æƒé‡: ${params.data.value || 1}`;
                                }
                            }
                        },
                        animationDurationUpdate: 750,
                        animationEasingUpdate: 'quinticInOut',
                        series: [{
                            type: 'graph',
                            layout: currentGraph.layout,
                            roam: true,
                            draggable: true,
                            label: {
                                show: true,
                                position: 'right',
                                fontSize: 16,
                                fontWeight: 'bold',
                                color: '#1e293b'
                            },
                            force: {
                                repulsion: 450,
                                gravity: 0.08,
                                edgeLength: 220,
                                layoutAnimation: true
                            },
                            circular: {
                                rotateLabel: true
                            },
                            symbolSize: 45,
                            data: nodes.map(node => ({
                                ...node,
                                symbolSize: node.symbolSize || 45,
                                itemStyle: {
                                    color: node.itemStyle?.color || '#2563eb',
                                    borderColor: '#fff',
                                    borderWidth: 2,
                                    shadowBlur: 10,
                                    shadowColor: 'rgba(0, 0, 0, 0.3)'
                                }
                            })),
                            links: currentGraph.links,
                            edgeSymbol: ['none', 'none'],
                            edgeSymbolSize: 12,
                            edgeLabel: {
                                show: true,
                                formatter: '{c}',
                                fontSize: 14,
                                color: '#1e40af'
                            },
                            lineStyle: {
                                width: 3,
                                curveness: 0.1,
                                color: '#64748b'
                            },
                            emphasis: {
                                focus: 'adjacency',
                                itemStyle: {
                                    borderWidth: 3,
                                    borderColor: '#fbbf24'
                                },
                                lineStyle: {
                                    width: 5,
                                    color: '#2563eb'
                                }
                            }
                        }]
                    };
                    chartInstances.sandbox.setOption(option, { notMerge: true });
                };

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸš€ ç”Ÿå‘½å‘¨æœŸé’©å­ (Lifecycle Hooks)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                // é˜²æŠ–å‡½æ•°
                const debounce = (func, wait) => {
                    let timeout;
                    return function executedFunction(...args) {
                        const later = () => {
                            clearTimeout(timeout);
                            func(...args);
                        };
                        clearTimeout(timeout);
                        timeout = setTimeout(later, wait);
                    };
                };

                // å“åº”å¼å¤„ç†
                const handleResize = debounce(() => {
                    Object.values(chartInstances).forEach(instance => {
                        if (instance && typeof instance.resize === 'function') {
                            instance.resize();
                        } else if (Array.isArray(instance)) {
                            instance.forEach(chart => chart && chart.resize());
                        }
                    });
                }, 250);

                // é”®ç›˜å¿«æ·é”®
                const handleKeyboard = (e) => {
                    // ç©ºæ ¼é”®ï¼šæ’­æ”¾/æš‚åœ
                    if (e.code === 'Space') {
                        e.preventDefault();
                        if (activeTab.value === 'sandbox') {
                            if (isAutoPlaying.value) {
                                pauseAutoDemo();
                            } else {
                                startAutoDemo();
                            }
                        }
                    }

                    // Ré”®ï¼šé‡ç½®
                    if (e.key === 'r' || e.key === 'R') {
                        if (activeTab.value === 'sandbox') {
                            resetDemo();
                        }
                    }

                    // æ•°å­—é”®1-2ï¼šåˆ‡æ¢æ ‡ç­¾
                    if (e.key >= '1' && e.key <= '2') {
                        const tabIndex = parseInt(e.key) - 1;
                        if (tabIndex < navigationTabs.length) {
                            switchTab(navigationTabs[tabIndex].id);
                        }
                    }
                };

                onMounted(() => {
                    console.log('ğŸ“Š åˆå§‹åŒ–å›¾æ•°æ®ç»“æ„æ•™å­¦å¹³å° v3.0');

                    // å»¶è¿Ÿåˆå§‹åŒ–ç¡®ä¿DOMå®Œå…¨æ¸²æŸ“
                    setTimeout(() => {
                        // åˆå§‹åŒ–ç¤ºä¾‹å›¾è¡¨
                        exampleChartRefs.value.forEach((el, index) => {
                            if (el) {
                                try {
                                    const chart = echarts.init(el);
                                    const example = realWorldExamples[index];
                                    const option = {
                                        tooltip: {
                                            trigger: 'item',
                                            formatter: (params) => {
                                                if (params.dataType === 'node') {
                                                    return `${params.name}<br>å€¼: ${params.data.value || ''}`;
                                                }
                                                if (params.dataType === 'edge') {
                                                    return `${params.data.source} â†’ ${params.data.target}<br>æƒé‡: ${params.data.value || 1}`;
                                                }
                                            }
                                        },
                                        animationDuration: 2000,
                                        animationEasingUpdate: 'quinticInOut',
                                        series: [{
                                            type: 'graph',
                                            layout: 'force',
                                            roam: true,
                                            draggable: true,
                                            label: {
                                                show: true,
                                                fontSize: 14,
                                                fontWeight: 'bold'
                                            },
                                            force: {
                                                repulsion: example.title === 'é¡¹ç›®ä¾èµ–ç®¡ç†' ? 500 : 300,
                                                gravity: example.title === 'é¡¹ç›®ä¾èµ–ç®¡ç†' ? 0.02 : 0.1,
                                                edgeLength: example.title === 'é¡¹ç›®ä¾èµ–ç®¡ç†' ? 250 : 150,
                                                layoutAnimation: true
                                            },
                                            symbolSize: (value, params) => {
                                                return params.data.symbolSize || 40;
                                            },
                                            data: example.graphData.nodes.map(node => ({
                                                ...node,
                                                x: node.x || undefined,
                                                y: node.y || undefined
                                            })),
                                            links: example.graphData.links,
                                            categories: [
                                                { name: 'æ ¸å¿ƒå±‚' },
                                                { name: 'ä¸­é—´å±‚' },
                                                { name: 'åº”ç”¨å±‚' },
                                                { name: 'å…¶ä»–' }
                                            ],
                                            edgeSymbol: example.graphData.directed ? ['none', 'arrow'] : ['none', 'none'],
                                            edgeSymbolSize: 10,
                                            edgeLabel: {
                                                show: example.category === 'å¸¦æƒå›¾åº”ç”¨',
                                                formatter: '{c}',
                                                fontSize: 12
                                            },
                                            // ä¿®æ­£åçš„ä»£ç 
                                            lineStyle: {
                                                width: 2, // ç›´æ¥è®¾ç½®é»˜è®¤å®½åº¦ä¸º 2
                                                curveness: example.graphData.directed ? 0.3 : 0.1,
                                                color: '#64748b'
                                            },
                                            itemStyle: {
                                                borderColor: '#fff',
                                                borderWidth: 2,
                                                shadowBlur: 10,
                                                shadowColor: 'rgba(0, 0, 0, 0.3)'
                                            },
                                            emphasis: {
                                                focus: 'adjacency',
                                                lineStyle: { width: 4 }
                                            }
                                        }]
                                    };
                                    chart.setOption(option);
                                    chartInstances.examples.push(chart);
                                    console.log(`âœ… ç¤ºä¾‹å›¾è¡¨${index + 1}åˆå§‹åŒ–æˆåŠŸ`);
                                } catch (error) {
                                    console.error(`âŒ åˆå§‹åŒ–ç¤ºä¾‹å›¾è¡¨${index}å¤±è´¥:`, error);
                                }
                            }
                        });

                        // åˆå§‹åŒ–æœ¯è¯­å›¾è¡¨
                        if (terminologyChartRef.value) {
                            try {
                                chartInstances.terminology = echarts.init(terminologyChartRef.value);
                                updateTerminologyChart();
                                console.log('âœ… æœ¯è¯­å›¾è¡¨åˆå§‹åŒ–æˆåŠŸ');
                            } catch (error) {
                                console.error('âŒ åˆå§‹åŒ–æœ¯è¯­å›¾è¡¨å¤±è´¥:', error);
                            }
                        }

                        // åˆå§‹åŒ–æ²™ç®±å›¾è¡¨
                        if (sandboxChartRef.value) {
                            try {
                                chartInstances.sandbox = echarts.init(sandboxChartRef.value);
                                // é»˜è®¤åŠ è½½ç¤¾äº¤ç½‘ç»œåœºæ™¯
                                loadPresetScenario('social');
                                console.log('âœ… æ²™ç®±å›¾è¡¨åˆå§‹åŒ–æˆåŠŸ');
                            } catch (error) {
                                console.error('âŒ åˆå§‹åŒ–æ²™ç®±å›¾è¡¨å¤±è´¥:', error);
                            }
                        }
                        
                        // è§¦å‘ä¸€æ¬¡resizeç¡®ä¿å›¾è¡¨æ­£ç¡®æ˜¾ç¤º
                        setTimeout(() => {
                            handleResize();
                        }, 500);

                    }, 100);

                    // æ·»åŠ äº‹ä»¶ç›‘å¬
                    window.addEventListener('resize', handleResize);
                    document.addEventListener('keydown', handleKeyboard);

                    // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
                    setTimeout(() => {
                        showNotification('ğŸ‰ æ¬¢è¿ä½¿ç”¨å›¾æ•°æ®ç»“æ„äº¤äº’å¼æ•™å­¦å¹³å° v3.0ï¼', 'success');
                    }, 1500);

                    // è‡ªåŠ¨å¼€å§‹ç¬¬ä¸€ä¸ªæ¼”ç¤º
                    setTimeout(() => {
                        if (activeTab.value === 'concepts') {
                            showNotification('ğŸ’¡ ç‚¹å‡»å·¦ä¾§æœ¯è¯­æŸ¥çœ‹ä¸åŒç±»å‹çš„å›¾ç»“æ„', 'info');
                        }
                    }, 3500);
                });

                onUnmounted(() => {
                    console.log('ğŸ”š æ¸…ç†èµ„æº');

                    // ç§»é™¤äº‹ä»¶ç›‘å¬
                    window.removeEventListener('resize', handleResize);
                    document.removeEventListener('keydown', handleKeyboard);

                    // é”€æ¯æ‰€æœ‰å›¾è¡¨å®ä¾‹
                    Object.values(chartInstances).forEach(instance => {
                        if (instance && typeof instance.dispose === 'function') {
                            instance.dispose();
                        } else if (Array.isArray(instance)) {
                            instance.forEach(chart => {
                                if (chart && typeof chart.dispose === 'function') {
                                    chart.dispose();
                                }
                            });
                        }
                    });
                });

                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                // ğŸ“¤ å¯¼å‡ºæ¥å£ (Export Interface)
                // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

                return {
                    // çŠ¶æ€
                    activeTab,
                    navigationTabs,
                    notification,

                    // æ¦‚å¿µ
                    realWorldExamples,
                    exampleChartRefs,
                    terminology,
                    activeTermId,
                    activeTerm,
                    terminologyChartRef,

                    // æ²™ç®±
                    presetScenarios,
                    currentGraph,
                    isAutoPlaying,
                    demoSpeed,
                    currentDemoStep,
                    graphStats,
                    sandboxChartRef,

                    // æ–¹æ³•
                    switchTab,
                    selectTerm,
                    loadPresetScenario,
                    startAutoDemo,
                    pauseAutoDemo,
                    resetDemo,
                    centerGraph,
                    toggleLayout,
                };
            }
        }).mount('#app');
    </script>

</body>

</html>